resources:
  repositories:
  - repository: MyJavaRepo
    type: github
    endpoint: MyGitHubServiceConnection
    name: 0GiS0/tour-of-heroes-api-java

trigger:
- main

pool: agents-on-aks

steps:
- checkout: MyJavaRepo
- script: echo "Running this job on $(Agent.OS) with name $(Agent.Name) and version $(Agent.Version)"
  displayName: 'Showing OS of the agent'
- task: UseJava@0
  inputs:
    versionSpec: '17'
    jdkArchitectureOption: 'x64'
- script: ./gradlew build
  displayName: 'Building the project'